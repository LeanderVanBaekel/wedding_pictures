<h1>hoi</h1>
<form action="/upload/create" enctype="multipart/form-data" method="post">

  <input class="file" type="file" multiple name="file" value="">

  <button type="submit" name="button">Uploaden</button>

</form>

<div class="preview">

</div>

<script type="text/javascript">
  var input = document.querySelector('.file');
  // input.addEventListener('change', function(el) {
  //   console.log(el.srcElement);
  //
  // });

  function previewFiles() {

    var preview = document.querySelector('.preview');
    var files   = document.querySelector('input[type=file]').files;

    function readAndPreview(file) {

      // Make sure `file.name` matches our extensions criteria
      if ( /\.(jpe?g|png|gif)$/i.test(file.name) ) {
        var reader = new FileReader();

        reader.addEventListener("load", function () {
          var image = new Image();
          image.height = 500;
          image.title = file.name;
          image.src = this.result;
          preview.appendChild( image );
        }, false);

        reader.readAsDataURL(file);
      }

    }

    if (files) {
      [].forEach.call(files, readAndPreview);
    }
  }

  input.addEventListener('change', function(el) {
    previewFiles();
  });
</script>
